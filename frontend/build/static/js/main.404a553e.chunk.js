(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{10:function(e,t,a){e.exports={StocksTable:"StocksTable_StocksTable__1UlFA",table:"StocksTable_table__2kp0d",title:"StocksTable_title__LQTAI",date:"StocksTable_date__3O17y",adjClose:"StocksTable_adjClose__1xOXD",adjCloseCol:"StocksTable_adjCloseCol__3K-FI",content:"StocksTable_content__2ChIc",textDate:"StocksTable_textDate__1y3ln",green:"StocksTable_green__3YeOH",red:"StocksTable_red__2ZUtj",dataCell:"StocksTable_dataCell__2oww8"}},18:function(e,t,a){e.exports={Symbol:"Stocks_Symbol__Fnlg0",Params:"Stocks_Params__3VKqK"}},21:function(e,t,a){e.exports={Loader:"Loader_Loader__9XL3c","lds-ripple":"Loader_lds-ripple__312YZ",center:"Loader_center__3H1eH"}},26:function(e,t,a){e.exports={Layout:"Layout_Layout__1nXEF"}},27:function(e,t,a){e.exports={StocksGraph:"StocksGraph_StocksGraph__2DQot"}},28:function(e,t,a){e.exports={Navbar:"Navbar_Navbar__37e2H"}},32:function(e,t,a){e.exports=a(46)},37:function(e,t,a){},39:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),l=a.n(o),s=a(13);a(37),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(7),u=a.n(c),i=a(2),m=a(3),d=a(5),p=a(4),h=a(6),b=a(12),f=a(26),v=a.n(f),g=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:v.a.Layout},r.a.createElement("main",null,this.props.children))}}]),t}(n.Component),y=(a(39),a(23)),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).refreshUsernameField=function(e){a.setState({username:e.target.value})},a.refreshPasswordField=function(e){a.setState({password:e.target.value})},a.signIn=function(){var e,t,n,r,o,l;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,u.a.awrap(fetch("/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.state)}));case 2:return e=s.sent,s.next=5,u.a.awrap(e.json());case 5:(t=s.sent).username?(n=t._id,r=t.username,o=t.surname,l=t.name,y.set("user_id",n),y.set("username",r),y.set("surname",o),y.set("name",l),a.props.handler()):alert("The password was entered incorrectly");case 7:case"end":return s.stop()}}))},a.state={username:"",password:"",logged_in:null},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"logContainer"},r.a.createElement("h2",null,"YFAC"),r.a.createElement("br",null),r.a.createElement("input",{className:"logInput",onChange:this.refreshUsernameField,placeholder:"Name"}),r.a.createElement("br",null),r.a.createElement("input",{className:"logInput",onChange:this.refreshPasswordField,placeholder:"Password",type:"password"}),!1===this.state.logged_in?r.a.createElement("div",null,"Check your username and password"):r.a.createElement("div",null),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"logButton",onClick:this.signIn},"Entrance"))}}]),t}(n.Component),_=a(16),j=a.n(_),O=a(18),k=a.n(O),S=a(10),C=a.n(S),w=a(31),x=a(27),N=a.n(x),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:N.a.StocksGraph})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=[],n=[];function r(e){var t=e.reduce((function(e,t){return e+t}))/e.length,a=e.map((function(e){return e-t})).map((function(e){return e*e})).reduce((function(e,t){return e+t}))/(e.length-1);return Math.sqrt(a)}function o(e){return e.reduce((function(e,t){return e+t}))/e.length}e.value.length>1?e.value.map((function(e,t){a.push(e.map((function(e,t,a){if(a.length-1!==t)return a[t].adjClose/a[t+1].adjClose-1}))),a[t].pop()})):(e.value[0].map((function(e,t,a){a.length-1!==t&&n.push(a[t].adjClose/a[t+1].adjClose-1)})),a.push(n));var l=[],s=[];return a.length>1?(a.map((function(e){l.push(o(e))})),a.map((function(e){s.push(r(e))}))):(l.push(o(a[0])),s.push(r(a[0]))),Object(w.a)({},t,{},{source:a,avg:l,stdev:s})}}]),t}(n.Component),T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).Difference=function(e,t){return e.length-1===t?"-":Number.parseFloat(e[t].adjClose-e[t+1].adjClose).toFixed(2)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=[C.a.textDate];return r.a.createElement("div",null,r.a.createElement("div",{className:C.a.table},r.a.createElement("div",{className:C.a.title},this.props.name.map((function(e,t){return r.a.createElement("div",{key:t},e)}))),r.a.createElement("div",{className:C.a.content},r.a.createElement("div",{className:C.a.adjCloseCol},this.props.value.map((function(a,n){return r.a.createElement("div",{key:n,className:C.a.adjClose},a.map((function(a,n,o){return r.a.createElement("div",{key:n,className:C.a.dataCell},r.a.createElement("div",{className:C.a.textDate},j()(a.date).format("YYYY-MM-DD")),r.a.createElement("div",null,Number.parseFloat(a.adjClose).toFixed(2),function(e){t=[C.a.textDate];var a=+e;a>0?t.push(C.a.green):a<0&&t.push(C.a.red)}(e.Difference(o,n))),r.a.createElement("div",{className:t.join(" ")},e.Difference(o,n)))})))}))))),r.a.createElement("div",null,r.a.createElement(D,{value:this.props.value,name:this.props.name})))}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=function(){a.setState({from:j()().subtract(1,"years").format("YYYY-MM-DD"),to:j()().format("YYYY-MM-DD"),period:"m"})},a.getStocksInfo=function(){var e,t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(fetch("/symbol",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:a.state.symbol,from:a.state.from,to:a.state.to,period:a.state.period})}));case 2:return e=n.sent,n.next=5,u.a.awrap(e.json());case 5:t=n.sent,a.setState({data:t});case 7:case"end":return n.stop()}}))},a.getSymbol=function(e){var t=a.state.symbol;t[e.target.name]=e.target.value,a.setState({symbol:t})},a.setFromDate=function(e){a.setState({from:e.target.value})},a.setToDate=function(e){a.setState({to:e.target.value})},a.setPeriod=function(e){"Day"===e.target.value?a.setState({period:"d"}):"Week"===e.target.value?a.setState({period:"w"}):"Month"===e.target.value?a.setState({period:"m"}):a.setState({period:"d"})},a.onClear=function(){a.setState({data:"",symbol:{symbol1:"",symbol2:"",symbol3:"",symbol4:""}})},a.state={data:"",value:"",symbol:{symbol1:"",symbol2:"",symbol3:"",symbol4:""},from:"",to:"",period:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:k.a.Symbol},r.a.createElement("input",{type:"text",name:"symbol1",value:this.state.symbol.symbol1,placeholder:"Enter stocks name 1",onChange:this.getSymbol}),r.a.createElement("input",{type:"text",name:"symbol2",value:this.state.symbol.symbol2,placeholder:"Enter stocks name 2",onChange:this.getSymbol}),r.a.createElement("input",{type:"text",name:"symbol3",value:this.state.symbol.symbol3,placeholder:"Enter stocks name 3",onChange:this.getSymbol}),r.a.createElement("input",{type:"text",name:"symbol4",value:this.state.symbol.symbol4,placeholder:"Enter stocks name 4",onChange:this.getSymbol}),r.a.createElement("button",{onClick:this.onClear},"Clear")),r.a.createElement("br",null),r.a.createElement("div",{className:k.a.Params},r.a.createElement("input",{value:this.state.from,onChange:this.setFromDate,type:"date"}),r.a.createElement("input",{value:this.state.to,onChange:this.setToDate,type:"date"}),r.a.createElement("select",{onChange:this.setPeriod,name:"type"},r.a.createElement("option",null,"Month"),r.a.createElement("option",null,"Week"),r.a.createElement("option",null,"Day")),r.a.createElement("button",{onClick:this.getStocksInfo},"Request"))),r.a.createElement("div",null,this.state.data?r.a.createElement(T,{name:Object.keys(this.state.data),value:Object.values(this.state.data)}):null))}}]),t}(n.Component),Y=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(F,null))}}]),t}(n.Component),L=a(28),M=a.n(L),P=a(23),I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(fetch("/users/logout",{method:"POST",headers:{"Content-Type":"application/json"}}));case 2:P.remove("user_id"),P.remove("username"),P.remove("surname"),P.remove("name"),window.location.reload();case 7:case"end":return e.stop()}}))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:M.a.Navbar},r.a.createElement(s.b,{className:"textNav",to:"/"},"Main menu"),r.a.createElement("div",{className:"textNav"},P.get("surname")," ",P.get("name")," / ",P.get("username"),r.a.createElement(s.b,{className:"textNav",onClick:this.logout,to:"/"},"Logout")))}}]),t}(n.Component),A=a(21),G=a.n(A),H=function(e){return r.a.createElement("div",{className:G.a.center},r.a.createElement("div",{className:G.a.Loader},r.a.createElement("div",null),r.a.createElement("div",null)))},J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handler=function(){a.setState({logged_in:!0,loading:!1})},a.logout=function(){a.setState({logged_in:!1,loading:!1})},a.componentDidMount=function(){var e,t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({loading:!0}),n.next=3,u.a.awrap(fetch("/users"));case 3:return e=n.sent,n.next=6,u.a.awrap(e.json());case 6:(t=n.sent).user&&t.cookie?a.setState({user:t.user,loading:!1,logged_in:!0}):a.setState({loading:!1,logged_in:!1});case 8:case"end":return n.stop()}}))},a.state={user:"",logged_in:!1,loading:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return!0===this.state.loading?r.a.createElement(g,null,r.a.createElement(H,null)):!1===this.state.logged_in?r.a.createElement(g,null,r.a.createElement("div",null,r.a.createElement(b.a,{path:"/",render:function(t){return r.a.createElement("div",null,r.a.createElement(E,Object.assign({},t,{handler:e.handler})))}}))):r.a.createElement(g,null,r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(b.a,{render:function(t){return r.a.createElement("div",null,r.a.createElement(b.a,{render:function(t){return r.a.createElement("div",null,r.a.createElement(I,Object.assign({},t,{logout:e.logout,options:e.state.user.user})))}}),r.a.createElement(b.c,null,r.a.createElement(b.a,{exact:!0,path:"/",render:function(t){return r.a.createElement("div",null,r.a.createElement(Y,Object.assign({},t,{options:e.state.user.user})))}})))}}))))}}]),t}(n.Component),U=r.a.createElement(s.a,null,r.a.createElement(J,null));l.a.render(U,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,1,2]]]);
//# sourceMappingURL=main.404a553e.chunk.js.map